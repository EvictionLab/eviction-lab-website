<div class="breakout breakout--table">
  <div class="breakout__content">
    <div class="legend legend--table">
      <div class="legend-item">
        <img class="icon icon--moratorium" src="/img/el-moratorium-icon5.svg" alt="active moratorium icon" />
        <span> = Active eviction moratorium</span>
      </div>
    </div>
    <table class="table table--cities">
      <thead class="table__head">
        <tr class="table__row">
          <th class="table__cell table__cell--name">City</th>
          <th class="table__cell table__cell--number">
            Filings <br />Last Week<sup>1</sup>
          </th>
          <th class="table__cell table__cell--number">
            Filings <br />Last 4 Weeks<sup>2</sup>
          </th>
          <th class="table__cell table__cell--button" data-sorter="false"></th>
        </tr>
      </thead>
      <tbody class="table__body" aria-live="polite">
        <tr class="table__row">
          <td colspan="4" class="loading" style="text-align: center;">
            <div class="spinner">
              <div class="spinner-border" role="status">
                <span class="sr-only">Loading...</span>
              </div>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
    <div class="footnote"></div>
  </div>
</div>

<script>
  window.addEventListener('load', function () {
    var dataUrl = {{ .Get "data" }}
    var buttonLabel = {{ .Get "buttonLabel" }}
    var tooltip = {{ .Get "tooltip" }}
    var tooltipNoDate = {{ .Get "tooltipNoDate" }}
    var options = {
      tooltip: tooltip,
      tooltipNoDate: tooltipNoDate,
      buttonLabel: buttonLabel
    }
    var tableEl = document.querySelector('.table--cities')
    if (!dataUrl)
      throw new Error('no tabledata specified in front matter')
    if (tableEl && dataUrl)
      Elab.Table.createIndexTable(tableEl, dataUrl, options)
  })
</script>
